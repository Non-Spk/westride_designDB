# รายงานโปรเจกต์ฐานข้อมูลสถาบันเทคโนโลยี

## 1. คำอธิบายการออกแบบ

การออกแบบฐานข้อมูลสำหรับสถาบันเทคโนโลยีนี้มีวัตถุประสงค์เพื่อจัดการข้อมูลเกี่ยวกับนักศึกษา อาจารย์ วิชา และการลงทะเบียนเรียน โดยมีขั้นตอนการออกแบบดังนี้:

### 1.1 การระบุ Entities

เริ่มต้นด้วยการระบุ entities หลักที่จำเป็นสำหรับระบบการศึกษาของสถาบัน:

1. **STUDENT** - เก็บข้อมูลเกี่ยวกับนักศึกษา
2. **INSTRUCTOR** - เก็บข้อมูลเกี่ยวกับอาจารย์
3. **MAJOR** - เก็บข้อมูลเกี่ยวกับสาขาวิชา
4. **COURSE** - เก็บข้อมูลเกี่ยวกับรายวิชา
5. **COURSE_SECTION** - เก็บข้อมูลเกี่ยวกับกลุ่มเรียนของแต่ละวิชา
6. **SEMESTER** - เก็บข้อมูลเกี่ยวกับภาคการศึกษา
7. **ENROLLMENT** - เก็บข้อมูลการลงทะเบียนเรียนของนักศึกษา

### 1.2 การระบุ Attributes

สำหรับแต่ละ entity เราได้กำหนด attributes ที่จำเป็น โดยพิจารณาจากข้อมูลที่ต้องจัดเก็บและความต้องการในการใช้งาน:

- **STUDENT**: student_id, first_name, last_name, email, phone, date_of_birth, major_id, enrollment_date
- **INSTRUCTOR**: instructor_id, first_name, last_name, email, phone, department_id, hire_date
- **MAJOR**: major_id, major_name, department, description
- **COURSE**: course_id, course_code, course_name, description, credit_hours, major_id
- **COURSE_SECTION**: course_section_id, course_id, instructor_id, semester_id, section_number, classroom, schedule, max_capacity
- **SEMESTER**: semester_id, semester_name, start_date, end_date, academic_year
- **ENROLLMENT**: enrollment_id, student_id, course_section_id, enrollment_date, grade, final_score

### 1.3 การระบุความสัมพันธ์ (Relationships)

1. **นักศึกษากับสาขาวิชา**: นักศึกษาหนึ่งคนสังกัดหนึ่งสาขาวิชา (one-to-many จาก MAJOR ไป STUDENT)
2. **รายวิชากับสาขาวิชา**: รายวิชาหนึ่งอาจเป็นของสาขาวิชาใดสาขาวิชาหนึ่ง (one-to-many จาก MAJOR ไป COURSE)
3. **รายวิชากับกลุ่มเรียน**: รายวิชาหนึ่งอาจมีหลายกลุ่มเรียน (one-to-many จาก COURSE ไป COURSE_SECTION)
4. **อาจารย์กับกลุ่มเรียน**: อาจารย์หนึ่งคนอาจสอนหลายกลุ่มเรียน (one-to-many จาก INSTRUCTOR ไป COURSE_SECTION)
5. **กลุ่มเรียนกับการลงทะเบียน**: กลุ่มเรียนหนึ่งอาจมีหลายการลงทะเบียน (one-to-many จาก COURSE_SECTION ไป ENROLLMENT)
6. **นักศึกษากับการลงทะเบียน**: นักศึกษาหนึ่งคนอาจมีหลายการลงทะเบียน (one-to-many จาก STUDENT ไป ENROLLMENT)
7. **ภาคเรียนกับกลุ่มเรียน**: ภาคเรียนหนึ่งอาจมีหลายกลุ่มเรียน (one-to-many จาก SEMESTER ไป COURSE_SECTION)

ความสัมพันธ์เหล่านี้ถูกแปลงเป็น foreign keys ในตารางที่เกี่ยวข้อง เพื่อรักษาความสมบูรณ์ของข้อมูล (referential integrity)

## 2. กระบวนการ Normalization

กระบวนการทำ Normalization มีจุดประสงค์เพื่อลดความซ้ำซ้อนของข้อมูลและป้องกันปัญหาที่อาจเกิดขึ้นเมื่อมีการอัปเดตข้อมูล โดยฐานข้อมูลนี้ได้ถูกทำให้อยู่ในรูปแบบปกติที่สาม (3NF) ดังนี้:

### 2.1 First Normal Form (1NF)

เพื่อให้ได้ 1NF:

- กำหนด Primary Key ให้กับทุกตาราง เช่น student_id, instructor_id, course_id เป็นต้น
- แยกข้อมูลที่มีค่าหลายค่า (multi-valued attributes) ออกเป็นแถวแยกต่างหาก
- ไม่มีข้อมูลที่ซ้ำซ้อนในแต่ละแถว

ตัวอย่างการแก้ปัญหา:

- แทนที่จะเก็บรายวิชาที่นักศึกษาลงทะเบียนไว้ในตาราง STUDENT เราสร้างตาราง ENROLLMENT แยกต่างหาก
- แทนที่จะเก็บข้อมูลอาจารย์ผู้สอนหลายคนในคอลัมน์เดียวของตาราง COURSE_SECTION เราใช้แถวแยกสำหรับแต่ละกลุ่มเรียน-อาจารย์

### 2.2 Second Normal Form (2NF)

เพื่อให้ได้ 2NF:

- ต้องเป็น 1NF ก่อน
- แยกข้อมูลที่ขึ้นอยู่กับส่วนหนึ่งของ Primary Key ออกเป็นตารางใหม่

ตัวอย่างการแก้ปัญหา:

- แยกข้อมูลรายวิชาออกจากกลุ่มเรียน เพราะข้อมูลรายวิชา (เช่น course_name, description) ไม่ได้ขึ้นอยู่กับ section_number หรือ semester_id
- แยกข้อมูลอาจารย์ออกจากกลุ่มเรียน เพราะข้อมูลอาจารย์ (เช่น instructor_name, email) ไม่ได้ขึ้นอยู่กับรายวิชาหรือกลุ่มเรียน

### 2.3 Third Normal Form (3NF)

เพื่อให้ได้ 3NF:

- ต้องเป็น 2NF ก่อน
- แยกข้อมูลที่ไม่ขึ้นตรงกับ Primary Key ออกเป็นตารางใหม่

ตัวอย่างการแก้ปัญหา:

- แยกข้อมูลสาขาวิชาออกจากนักศึกษา โดยเก็บเพียง major_id ในตาราง STUDENT
- แยกข้อมูลภาคเรียนออกจากกลุ่มเรียน โดยเก็บเพียง semester_id ในตาราง COURSE_SECTION

### 2.4 ความท้าทายที่พบเจอ

1. **การจัดการกับข้อมูลที่มีความสัมพันธ์ซับซ้อน**: เช่น การเชื่อมโยงระหว่างนักศึกษา กลุ่มเรียน และรายวิชา ต้องใช้ตารางเชื่อม (junction table) คือ ENROLLMENT
2. **การรักษาสมดุลระหว่างการลดความซ้ำซ้อนกับประสิทธิภาพ**: การแยกตารางมากเกินไปอาจทำให้การสืบค้นซับซ้อนและช้าลง
3. **การเก็บข้อมูลเกรดและคะแนน**: ต้องตัดสินใจว่าจะเก็บในตาราง ENROLLMENT หรือแยกเป็นตารางใหม่ ซึ่งสุดท้ายตัดสินใจเก็บไว้ในตาราง ENROLLMENT เพื่อความสะดวกในการสืบค้น

## 3. คำอธิบายคำสั่งสืบค้น (Complex Queries)

### 3.1 รายชื่อนักศึกษาที่ลงทะเบียนในรายวิชา "Introduction to Programming"

**วัตถุประสงค์**: เพื่อค้นหานักศึกษาทั้งหมดที่ลงทะเบียนเรียนวิชา Introduction to Programming พร้อมแสดงข้อมูลการลงทะเบียนและผลการเรียน

**วิธีการสร้าง**:

- ใช้ JOIN หลายตารางเพื่อเข้าถึงข้อมูลที่ต้องการ (STUDENT, ENROLLMENT, COURSE_SECTION, COURSE, SEMESTER)
- ใช้ WHERE เพื่อกรองเฉพาะวิชา "Introduction to Programming"
- ใช้ ORDER BY เพื่อเรียงลำดับผลลัพธ์ตามปีการศึกษา ภาคเรียน และชื่อนักศึกษา

### 3.2 รายวิชาที่สอนโดยอาจารย์ชื่อ James Anderson

**วัตถุประสงค์**: เพื่อค้นหารายวิชาทั้งหมดที่สอนโดยอาจารย์ James Anderson พร้อมแสดงข้อมูลกลุ่มเรียนและจำนวนนักศึกษาที่ลงทะเบียน

**วิธีการสร้าง**:

- ใช้ JOIN เพื่อเชื่อมตารางที่เกี่ยวข้อง (INSTRUCTOR, COURSE_SECTION, COURSE, MAJOR, SEMESTER)
- ใช้ LEFT JOIN กับตาราง ENROLLMENT เพื่อนับจำนวนนักศึกษาที่ลงทะเบียน
- ใช้ GROUP BY เพื่อรวมข้อมูลตามรายวิชาและกลุ่มเรียน
- ใช้ COUNT เพื่อนับจำนวนนักศึกษา

### 3.3 รายงานผลการเรียนของนักศึกษาในภาค Fall 2023

**วัตถุประสงค์**: เพื่อแสดงผลการเรียนของนักศึกษาทุกคนในภาคเรียน Fall ปีการศึกษา 2023-2024

**วิธีการสร้าง**:

- ใช้ JOIN หลายตารางเพื่อเชื่อมข้อมูลนักศึกษา รายวิชา อาจารย์ และสาขาวิชา
- ใช้ WHERE เพื่อกรองเฉพาะภาคเรียน Fall ปีการศึกษา 2023-2024
- ใช้ ORDER BY เพื่อเรียงลำดับตามนามสกุลและชื่อของนักศึกษา

### 3.4 คะแนนเฉลี่ยของแต่ละรายวิชา

**วัตถุประสงค์**: เพื่อวิเคราะห์คะแนนเฉลี่ยและการกระจายของเกรดในแต่ละรายวิชา

**วิธีการสร้าง**:

- ใช้ JOIN เพื่อเชื่อมตาราง COURSE, COURSE_SECTION และ ENROLLMENT
- ใช้ GROUP BY เพื่อรวมข้อมูลตามรายวิชา
- ใช้ AVG เพื่อคำนวณคะแนนเฉลี่ย
- ใช้ Subqueries เพื่อนับจำนวนนักศึกษาที่ได้เกรด A, B และ C ในแต่ละรายวิชา

### 3.5 นักศึกษาที่ยังไม่ลงทะเบียนเรียนในภาค Spring 2025

**วัตถุประสงค์**: เพื่อค้นหานักศึกษาที่ยังไม่ได้ลงทะเบียนเรียนในภาคเรียน Spring ปีการศึกษา 2024-2025

**วิธีการสร้าง**:

- ใช้ LEFT JOIN ระหว่างตาราง STUDENT และ MAJOR
- ใช้ NOT IN ร่วมกับ Subquery เพื่อกรองนักศึกษาที่ไม่มีการลงทะเบียนในภาคเรียนที่ต้องการ
- ใช้ ORDER BY เพื่อเรียงลำดับตามนามสกุลและชื่อ

### 3.6 สถิติการลงทะเบียนของแต่ละวิชาแยกตามภาคการศึกษา

**วัตถุประสงค์**: เพื่อวิเคราะห์อัตราการเต็มของชั้นเรียนและคะแนนเฉลี่ยในแต่ละรายวิชาและภาคเรียน

**วิธีการสร้าง**:

- ใช้ JOIN เพื่อเชื่อมตาราง COURSE, COURSE_SECTION, SEMESTER
- ใช้ LEFT JOIN กับ ENROLLMENT เพื่อรวมข้อมูลการลงทะเบียน
- ใช้ GROUP BY เพื่อรวมข้อมูลตามภาคเรียนและรายวิชา
- ใช้ COUNT เพื่อนับจำนวนการลงทะเบียน
- ใช้ ROUND และการคำนวณเพื่อหาเปอร์เซ็นต์การเต็มของชั้นเรียน

### 3.7 ภาระงานของอาจารย์แยกตามภาคการศึกษา

**วัตถุประสงค์**: เพื่อวิเคราะห์ภาระงานสอนของอาจารย์แต่ละคนในแต่ละภาคเรียน

**วิธีการสร้าง**:

- ใช้ JOIN เพื่อเชื่อมตารางที่เกี่ยวข้อง
- ใช้ GROUP BY เพื่อรวมข้อมูลตามอาจารย์และภาคเรียน
- ใช้ COUNT DISTINCT เพื่อนับจำนวนกลุ่มเรียนและนักศึกษา
- ใช้ SUM เพื่อรวมจำนวนหน่วยกิต

### 3.8 ผลการเรียนของนักศึกษาแยกตามสาขาวิชา

**วัตถุประสงค์**: เพื่อเปรียบเทียบผลการเรียนเฉลี่ยและการกระจายของเกรดระหว่างสาขาวิชาต่างๆ

**วิธีการสร้าง**:

- ใช้ JOIN เพื่อเชื่อมตาราง MAJOR, STUDENT และ ENROLLMENT
- ใช้ GROUP BY เพื่อรวมข้อมูลตามสาขาวิชา
- ใช้ Subqueries หลายรายการเพื่อคำนวณค่าเฉลี่ยและนับจำนวนเกรดของแต่ละสาขา

## 4. สมมติฐาน

ในระหว่างกระบวนการออกแบบและการดำเนินการฐานข้อมูลนี้ ได้มีการตั้งสมมติฐานดังต่อไปนี้:

### 4.1 สมมติฐานเกี่ยวกับโครงสร้าง

1. **นักศึกษาหนึ่งคนสังกัดได้เพียงหนึ่งสาขาวิชา**: ระบบไม่รองรับการลงทะเบียนหลายสาขาวิชาในเวลาเดียวกัน
2. **อาจารย์หนึ่งคนสอนได้หลายวิชา**: ไม่มีข้อจำกัดว่าอาจารย์หนึ่งคนจะสอนได้กี่วิชาหรือกี่กลุ่มเรียน
3. **นักศึกษาสามารถลงทะเบียนวิชาเดียวกันได้เพียงครั้งเดียวในภาคการศึกษาเดียวกัน**: มีการกำหนด unique constraint ในตาราง ENROLLMENT

### 4.2 สมมติฐานเกี่ยวกับข้อมูล

1. **ระบบเกรด**: ใช้ระบบเกรดตัวอักษร (A, B+, B, B-, C+, C, ...) และคะแนนสูงสุด 100 คะแนน
2. **ภาคการศึกษา**: แบ่งเป็น Fall, Spring และ Summer โดยแต่ละปีการศึกษามี 3 ภาคเรียน
3. **ข้อมูลอาจารย์**: สันนิษฐานว่าอาจารย์แต่ละคนสังกัดแผนก (department) ตามตัวเลข department_id

### 4.3 สมมติฐานเกี่ยวกับการดำเนินการ

1. **การเพิ่มข้อมูล**: สันนิษฐานว่ามีการตรวจสอบความถูกต้องของข้อมูลก่อนเพิ่มลงในฐานข้อมูล
2. **การลงทะเบียน**: สันนิษฐานว่านักศึกษาสามารถลงทะเบียนเรียนได้เฉพาะในรายวิชาที่เปิดสอนในภาคการศึกษานั้นๆ
3. **การคำนวณเกรด**: สันนิษฐานว่ามีการกำหนดเกรดตามคะแนนรวม (final_score) โดยอัตโนมัติหรือโดยอาจารย์ผู้สอน

### 4.4 ข้อจำกัด

1. **ไม่มีการบันทึกประวัติการเปลี่ยนแปลง**: ไม่มีการเก็บประวัติการเปลี่ยนแปลงข้อมูล เช่น การเปลี่ยนสาขาวิชาของนักศึกษา
2. **ไม่มีการรองรับวิชาเรียนร่วม (Co-requisites)**: ระบบไม่ได้ออกแบบมาเพื่อบังคับการลงทะเบียนวิชาเรียนร่วม
3. **ไม่มีการรองรับการลงทะเบียนซ้ำ**: ระบบไม่ได้รองรับการลงทะเบียนซ้ำในรายวิชาเดียวกัน (เช่น กรณีสอบไม่ผ่าน)
